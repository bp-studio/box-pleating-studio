/**
 * clickout-event v1.1.0
 * (c) 2020-2021 Mu-Tsun Tsai
 * Released under the MIT License.
 */
!function(){"use strict";const t="on",e="out",n="body",s="stop",o="click",i="apply",r="target",c="prototype",u="Propagation",d="setAttribute",a="relatedTarget",h="addEventListener",p=Symbol(e),l=Object,m=document,f=TouchEvent,b=HTMLElement,y=b[c],v=Event[c],E=[o,"dbl"+o,"mousedown","mouseup","touchstart","touchend","pointerdown","pointerup"],w=new Set(E),g=new Set(E.map(n=>t+n+e)),L=(t,e)=>t instanceof e,N=(t,e)=>t.contains(e),S=(t,e)=>{for(let n of t)e(n)},T=n=>{L(n,b)&&(n[p]?A(n):S(w,s=>{let o=t+s+e,i=n.getAttribute(o);i&&!j(n)[o]&&n[d](o,i)}),S(n.childNodes,T))},j=t=>t[p]=t[p]||{},A=t=>{j(t),I.includes(t)||(I.push(t),q=!0)},M=(t,e)=>N(e,t)?1:N(t,e)?-1:0,O=t=>{q&&(I.sort(M),q=!1);let n=t[r];L(t,f)?(t=new f(t.type+e,t))[a]=n:t=new t.constructor(t.type+e,l.assign({},t,{[a]:n})),t[s]=[],S(I,e=>{N(e,n)||t[s].some(t=>N(t,e))||e.dispatchEvent(t)})},P=e=>function(){let n=this,o=n.type;e[i](n),w.has(o)&&O(n),g.has(t+o)&&n[s].push(n[r])},k=(t,e,n)=>t[e]=n(t[e]);function H(e){let n=this[p][t+e.type];n&&n[i](this,[e])}let I=[],q=!1,x=m.createElement(n);S(w,n=>{m[h](n,O,{passive:!0});let s=t+n+e;l.defineProperty(y,s,{get(){return this[p][s]},set(t){this[h](n+e,H),this[p][s]="object"==typeof t?t.handleEvent:t}})}),k(y,h,e=>function(...n){g.has(t+n[0])&&A(this),e[i](this,n)}),k(y,d,e=>function(n,s){g.has(n)?(e[i](x,[t+o,s]),this[n]=x[t+o]):e[i](this,[n,s])}),k(v,s+u,P),k(v,s+"Immediate"+u,P),new MutationObserver(t=>{S(t,t=>{S(t.addedNodes,T),S(t.removedNodes,t=>{L(t,b)&&(I=I.filter(e=>!N(t,e)))})})}).observe(m.documentElement,{childList:!0,subtree:!0}),T(m[n])}();
